<h1>1. 양식</h1>
<ul>
  <li>
    FastAPI는 기본 입력으로 JSON을 사용하지만 다른 방식도 사용할 수 있다.
  </li>
  <li>
    FastAPI에서 양식을 사용하려면 Python-Multipart 패키지가 필요하다.
  </li>
</ul>

```python
# 1. GET 요청 양식에서 값 얻기
from fastapi import FastAPI, Form

app = FastAPI()

@app.get("/who2")
def greet2(name: str = Form()):
    return f"Hello. {name}?"
```

```html
<!-- 2. GET 요청 양식 (static/form1.html) -->
<form action="http://localhost:8000/who2" method="get">
Say hello to my little friend
<input type="text" name="name" value="Bob Frapples">
<input type="submit">
</form>
```

```python
# 3. POST 양식에서 값 얻기
from fastapi import FastAPI, Form

app = FastAPI()

@app.post("/who2")
def greet3(name: str = Form()):
    return f"Hello, {name}?"
```

```html
<!-- 4. Post 요청 양식 (static/form2.html) -->
<form action="http://localhost:8000/who2" method="post">
Say hello to my little friend:
<input type="text" name="name">
<input type="submit">
</form>
```

<h1>2. 템플릿</h1>
<ul>
  <li>
    템플릿은 <strong>가변 콘텐츠</strong>로 HTML을 생성하기 위해 사용한다.
  </li>
</ul>

```html
<!-- 1. 템플릿 파일 정의 (template/list.html) -->
<html>
<table bgcolor="#eeeeee">
<tr>
  <th colspan=3>Creatures</th>
  </tr>
<tr>
  <th>Name</th>
  <th>Description</th>
  <th>Country</th>
  <th>Area</th>
  <th>AKA</th>
</tr>
{% for creature in creatures: %}
<tr>
  <td>{{ creature.name }}</td>
  <td>{{ creature.description }}</td>
  <td>{{ creature.country }}</td>
  <td>{{ creature.area }}</td>
  <td>{{ creature.aka }}</td>
</tr>
{% endfor %}
</table>

<br>

<table bgcolor="#dddddd">
<tr>
  <th colspan=2>Explorers</th>
</tr>
<tr>
  <th>Name</th>
  <th>Country</th>
  <th>Description</th>
</tr>
{% for explorer in explorers: %}
<tr>
  <td>{{ explorer.name }}</td>
  <td>{{ explorer.country }}</td>
  <td>{{ explorer.description }}</td>
</tr>
{% endfor %}
</table>
</html>
```

```python
# 2. 템플릿 구성 및 사용 (main.py)
from pathlib import Path
from fastapi import FastAPI, Request
from fastapi.templating import Jinja2Templates

app = FastAPI()

top = Path(__file__).resolve().parent

template_obj = Jinja2Templates(directory=f"{top}/template")

# 미리 정의된 친구들 목록을 가져온다.
from fake.creature import _creatures as fake_creatures
from fake.explorer import _explorers as fake_explorers

@app.get("/list")
def explorer_list(request: Request):
    return template_obj.TemplateResponse("list.html",
        {"request": request,
        "explorers": fake_explorers,
        "creatures": fake_creatures})
```